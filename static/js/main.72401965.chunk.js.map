{"version":3,"sources":["configs/links.js","components/StreamServiceLink.js","components/svg/LinksCloseIcon.js","components/StreamServices.js","components/MarshakLink.js","images/marshak-logo.png","components/Header.js","images/turbina.svg","components/ProjectLogo.js","hooks/useAudioPlayer.js","utils/throttle.js","hooks/useTicker.js","components/Player/PlayerTimeline.js","utils/formatDuration.js","components/Player/PlayerTimer.js","components/svg/PlayIcon.js","components/svg/PauseIcon.js","components/Player/ControlBtn.js","utils/renderFrame.js","components/Player/PlayerController.js","components/Player/PlayerSwitcher.js","components/svg/ExtendRoundIcon.js","components/svg/CloseRoundIcon.js","components/Player/ExtendBtn.js","components/Player/PlayerTrack.js","components/Player/PlayerInfoContent.js","components/Player/PlayerInfoContainer.js","components/svg/ClipBtnIcon.js","components/Player/VideoBtn.js","components/Player/Spinner.js","images/note-round-icon.svg","components/Player/PlayerCover.js","db/audio/madconbeggin.mp3","db/audio/Navai.mp3","db/audio/The XX - Crystalised.mp3","db/audio/The XX - Infinity .mp3","db/audio/nikolife-miravi-klubnika-bomba.mp3","db/audio/daft-punk-feat.-julian-casablancas-instant-crush.mp3","db/audio/Rasa - Пчеловод.mp3","images/background.png","db/tracks.js","components/Player/Player.js","components/Main.js","components/TextContainer.js","vendor/offer.pdf","hooks/useFormWithValidation.js","utils/setCustomValidity.js","utils/Api.js","components/Form.js","components/Info.js","components/Footer.js","components/Background.js","components/Blur.js","images/background-blur.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["serviceLinks","serviceLabel","serviceLink","StreamServiceLink","style","className","href","target","rel","LinksCloseIcon","width","height","viewBox","fill","xmlns","x1","y1","x2","y2","stroke","strokeWidth","StreamServices","isMobile","isLandscape","isPlayerExtend","useState","isLinksMounted","setIsLinksMounted","isLinksHidden","setIsLinksHidden","AnimatedStreamServiceLink","animated","mobileConfig","config","mass","tension","friction","to","opacity","x","from","reverse","onRest","trail","useTrail","length","serviceLinksProps","map","link","i","linkProps","Object","assign","useEffect","cn","type","onClick","items","enter","initial","keys","values","item","span","MarshakLink","src","alt","Header","ProjectLogo","titleStyle","logo","useAudioPlayer","audioPlayerRef","track","isLoaded","setLoadedState","duration","setDuration","curTime","setCurTime","isPlaying","setPlaying","clickedTime","setClickedTime","handlePlayClick","current","pause","play","currentTime","handleTimeUpdate","handleLoadedMetaData","handleTrackEnded","throttle","func","ms","savedArgs","savedThis","isThrottled","wrapper","arguments","apply","setTimeout","useTicker","elementRef","containerTickerAddClass","dependences","isTickerNeeded","setTickerState","handleResize","element","elementContainer","parentElement","elementWidth","scrollWidth","elementContainerWidth","clientWidth","delay","a","Promise","resolve","checkIsTickerNeeded","handleResizeThrottled","window","addEventListener","removeEventListener","intervalId","setIntervalId","currentX","classList","add","currentIntervalId","setInterval","left","remove","clearInterval","PlayerTimeline","onTimeUpdate","timelineRef","useRef","curPercentage","calculateClickedTime","e","timeline","timelineWidth","timelineStart","getBoundingClientRect","pageX","onMouseDown","updateTimeOnMove","eMove","document","handleMouseUp","handleTimeDrag","ref","formatDuration","minutes","Math","floor","seconds","PlayerTimer","PlayIcon","d","PauseIcon","fillRule","clipRule","PlayerControlBtn","onBtnClick","renderFrame","analyser","ctx","freqData","analyzerCanvas","canvas","requestAnimationFrame","getByteFrequencyData","clearRect","rgb1","rgb2","my_gradient","createLinearGradient","addColorStop","fillStyle","bar_x","bar_height","fillRect","AudioContext","webkitAudioContext","PlayerController","trackRef","audioCtx","setAudioCtx","useMediaQuery","query","startsWith","location","Error","context","audio","audioSrc","createMediaElementSource","createAnalyser","getContext","Uint8Array","frequencyBinCount","connect","destination","state","resume","preload","onLoadedMetadata","onEnded","trackName","author","originalAuthor","time","theme","backgroundImage","includes","id","PlayerSwitcher","isTextInfo","switcherStyle","setContentStyle","ExtendRoundIcon","CloseRoundIcon","ExtendBtn","isOpen","PlayerTrack","onTrackClick","inList","isLoading","trackId","currentTrack","loading","setLoading","checked","trackStyle","PlayerInfoContent","tracks","contentStyle","text","split","line","setSongLyrics","setReleaseList","setInfoContent","PlayerInfoContainer","isScrollbarHeight1280","isScrollbarHeight1024","isScrollbarHeight768","isScrollbarHeight480","renderView","props","overflowX","renderThumbVertical","renderTrackVertical","renderTrackHorizontal","display","hideTracksWhenNotNeeded","ClipBtnIcon","mask","VideoBtn","videoLink","Spinner","isImageLoaded","PlayerCover","image","setLoadState","imageLink","gag","imageRef","complete","onLoad","Crystalised","color","backgroundColor","defaultBackground","Infinity_","albumPicture","madconbeggin","daftPunkFeat","beekeeper","Navai","klubnika","Player","onPlayerExtend","onSetCurrentTrack","setTextInfo","isExtendElementsMounted","setIsExtendElementsMounted","extendPlayerAnimationConfig","useSpring","scale","AnimatedPlayerCover","div","Main","isShortMobile","isTallMobile","isWideMobile","isNarrowDesktop","AnimatedPlayer","extendСonfig","calcExtendedHeight","calcDefaultHeight","TextContainer","useFormWithValidation","setCustomValidity","name","email","tel","offer","setValues","errors","setErrors","isFormValid","setIsFormValid","resetForm","useCallback","newValues","newErrors","newIsFormValid","handleChange","evt","value","isCheckbox","validationMessage","closest","checkValidity","validity","valid","valueMissing","patternMismatch","tooShort","minLength","tooLong","maxLength","api","options","this","_url","url","_headers","headers","res","ok","json","reject","status","fetch","getData","then","_getResponseData","formData","method","body","JSON","stringify","Form","React","isSubmitted","setIsSubmitted","isErrorVisible","setIsErrorVisible","inputNameStyle","inputTelStyle","inputEmailStyle","inputTextStyle","onSubmit","preventDefault","console","log","submitForm","catch","err","noValidate","placeholder","required","pattern","onChange","htmlFor","pdfUrl","disabled","Info","Footer","Background","leave","Blur","blurLayerStyle","App","setPlayerState","setCurrentTrack","backgroundBlur","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.72401965.chunk.js","sourcesContent":["const marshakLink = 'https://marshakbooks.ru/';\r\nconst yandexPraktikumLink = 'https://praktikum.yandex.ru';\r\n\r\n// TODO: вставить актуальные ссылки на стриминговые сервисы\r\nconst serviceLinks = [\r\n  { \r\n    serviceLabel: 'Яндекс.Музыка',\r\n    serviceLink: 'https://music.yandex.ru/'\r\n  },\r\n  { \r\n    serviceLabel: 'Spotify',\r\n    serviceLink: 'https://www.spotify.com/ru-ru/'\r\n  },\r\n  { \r\n    serviceLabel: 'Apple Music',\r\n    serviceLink: 'https://music.apple.com/'\r\n  },\r\n  { \r\n    serviceLabel: 'VK Music',\r\n    serviceLink: 'https://vk.com/vkmusic'\r\n  },\r\n];\r\n\r\nexport { marshakLink, serviceLinks, yandexPraktikumLink };\r\n","import './StreamServiceLink.css';\r\n\r\nfunction StreamServiceLink({ serviceLabel, serviceLink, style }) {\r\n  return (\r\n    <li className=\"stream-services__link-container\" style={style}>\r\n      <a\r\n        className=\"stream-services__link\"\r\n        href={serviceLink}\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        {serviceLabel} ↗\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default StreamServiceLink;\r\n","export default function LinksCloseIcon() {\r\n  return (\r\n    <svg\r\n      width=\"18\"\r\n      height=\"18\"\r\n      viewBox=\"0 0 19 19\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <line\r\n        x1=\"4.9034\"\r\n        y1=\"4.90373\"\r\n        x2=\"14.0958\"\r\n        y2=\"14.0961\"\r\n        stroke=\"white\"\r\n        strokeWidth=\"2\"\r\n      />\r\n      <line\r\n        x1=\"4.90422\"\r\n        y1=\"14.0961\"\r\n        x2=\"14.0966\"\r\n        y2=\"4.90373\"\r\n        stroke=\"white\"\r\n        strokeWidth=\"2\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import './StreamServices.css';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useTrail, animated, Transition } from 'react-spring';\r\nimport cn from 'classnames';\r\n\r\nimport { serviceLinks } from '../configs/links';\r\n\r\nimport StreamServiceLink from './StreamServiceLink';\r\nimport LinksCloseIcon from './svg/LinksCloseIcon';\r\n\r\nfunction StreamServices({ className, isMobile, isLandscape, isPlayerExtend }) {\r\n  /* Разделение между стейтами isLinksMounted и isLinksHidden сделано для корректной анимации.\r\n  Ссылки должны размонтироваться по окончании анимации, иначе анимации не будет. */\r\n  const [isLinksMounted, setIsLinksMounted] = useState(false);\r\n  const [isLinksHidden, setIsLinksHidden] = useState(true);\r\n\r\n  const handleServiceButtonClick = () => {\r\n    setIsLinksHidden(!isLinksHidden);\r\n    setIsLinksMounted(true);\r\n  };\r\n\r\n  /* Создаем анимированную компоненту из обычной */\r\n  const AnimatedStreamServiceLink = animated(StreamServiceLink);\r\n\r\n  /* Конфиг для анимации ссылок на широком экране. \r\n  Сейчас конфиг обеспечивает статичное отображение при загрузке страницы */\r\n  const desktopConfig = {\r\n    opacity: 1,\r\n    x: 0\r\n  };\r\n\r\n  /* Конфиг для анимации ссылок на узких экранах. \r\n  Меняются прозрачность и смещение по горизонтали*/\r\n  const mobileConfig = {\r\n    config: { mass: 1, tension: 200, friction: 18 },\r\n    to: {\r\n      opacity: !isLinksHidden ? 1 : 0,\r\n      x: !isLinksHidden ? 0 : -50\r\n    },\r\n    from: {\r\n      opacity: 0,\r\n      x: -50\r\n    },\r\n    reverse: isLinksHidden,\r\n    onRest: () => {\r\n      if (isLinksHidden) {\r\n        setIsLinksMounted(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  /* Массив с объектами пропсов для анимации каждой ссылки */\r\n  const trail = useTrail(serviceLinks.length, (isMobile || isLandscape) ? mobileConfig : desktopConfig);\r\n\r\n  /* Сборка объектов с полным набором пропсов для будущих анимированных компонент.\r\n  Объединяются пропсы для анимации и обычные пропсы (название и адрес ссылки).\r\n  Объектов в массиве столько, сколько ссылок на стриминговые сервисы. */\r\n  const serviceLinksProps = serviceLinks.map((link, i) => {\r\n    const linkProps = {};\r\n    Object.assign(linkProps, link, trail[i]);\r\n    return linkProps;\r\n  });\r\n\r\n  /* Для маленьких экранов и landscape: если пользователь развернул ссылки и открыл плеер, \r\n  то сворачиваем ссылки, чтобы дать плееру полностью выехать*/\r\n  useEffect(() => {\r\n    if (isPlayerExtend && (isMobile || isLandscape)) {\r\n      setIsLinksHidden(true);\r\n      setIsLinksMounted(false);\r\n    }\r\n  }, [isPlayerExtend, isLandscape, isMobile]);\r\n\r\n  return (\r\n    <div className={cn(\"stream-services\", className)}>\r\n      {(isMobile || isLandscape) && (\r\n        <button\r\n          className={cn(\"stream-services__button\", {\r\n            \"stream-services__button_minimised\": !isLinksHidden,\r\n          })}\r\n          type=\"button\"\r\n          onClick={handleServiceButtonClick}\r\n        >\r\n          <Transition\r\n            items={isLinksHidden ? \"Стриминги\" : <LinksCloseIcon />}\r\n            from={{ opacity: 0 }}\r\n            enter={{ opacity: 1 }}\r\n            initial={{ opacity: 1 }}\r\n            config={{ mass: 1, tension: 140, friction: 30 }}\r\n            keys={() => (isLinksHidden ? 1 : 2)} // убираем лишние рендеры для animated.span\r\n          >\r\n            {(values, item) => (\r\n              <animated.span style={values}>{item}</animated.span>\r\n            )}\r\n          </Transition>\r\n        </button>\r\n      )}\r\n\r\n      {(isLinksMounted || !(isMobile || isLandscape)) && (\r\n        <ul className=\"stream-services__links\">\r\n          {serviceLinksProps.map((item, i) => (\r\n            <AnimatedStreamServiceLink\r\n              key={i}\r\n              serviceLabel={item.serviceLabel}\r\n              serviceLink={item.serviceLink}\r\n              style={{\r\n                ...item,\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StreamServices;\r\n","import './MarshakLink.css';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport { marshakLink } from '../configs/links';\r\nimport logoHeader from '../images/marshak-logo.png';\r\n\r\nfunction MarshakLink({ className }) {\r\n  return (\r\n    <a\r\n      className={\r\n        cn(\"marshak-link\", className)\r\n      }\r\n      href={marshakLink}\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n    >\r\n      <img\r\n        className=\"marshak-logo\"\r\n        src={logoHeader}\r\n        alt=\"Логотип книжного магазина Маршак\"\r\n      />\r\n    </a>\r\n  );\r\n}\r\n\r\nexport default MarshakLink;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAANlBMVEUAAAD////////////////////////////////////////////////////////////////////xY8b8AAAAEXRSTlMA359gv4AfQM8wEJBwUO+wf2TmRsgAAADTSURBVEjHzdLbDoMgDAZgATmLru//ssscYqFNtt4Yevk3H5TD8n+t8Cm/LMnFYuzWNV92M9671JNwEThrZ5oA/ULqzMpFINERAGxHvplpJOKmrmHGYRqJwd1cQ43DiAgd23LEt2G5rqnhisMykuMn2UaimBlAMdPmRmA4KSW6nuAmDnUdt85BSOmfgJL1JvRh+K1VuxLgXloxZCdEYxKYbwSEBO5fenoloRJBqVkJTEuSnLhZSZQT/wgpcmJmJXZWkuVEz0oOOVkfIUFO1KxklxN4Ayzgg2OAD/dqAAAAAElFTkSuQmCC\"","import './Header.css';\r\nimport './Blur.css';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport StreamServices from './StreamServices';\r\nimport MarshakLink from './MarshakLink';\r\n\r\nfunction Header({ isPlayerExtend, isMobile, isLandscape }) {\r\n  return (\r\n    <header\r\n      className={cn(\"header\", {\r\n        \"blur\": isPlayerExtend && (isMobile || isLandscape),\r\n      })}\r\n    >\r\n      <MarshakLink className=\"header__logo\" />\r\n\r\n      <StreamServices\r\n        className=\"header__links\"\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/turbina.b11f75a9.svg\";","import './ProjectLogo.css';\r\nimport './Blur.css';\r\nimport logo from '../images/turbina.svg';\r\nimport cn from 'classnames';\r\n\r\nfunction ProjectLogo({ isPlayerExtend, isMobile, isLandscape }) {\r\n  \r\n  const titleStyle = cn(\"title\", { \"blur\": isPlayerExtend && (isMobile || isLandscape)})\r\n\r\n  return (\r\n    <h1\r\n      className={titleStyle}\r\n    >\r\n      <img\r\n        className=\"title__logo\"\r\n        src={logo}\r\n        alt=\"Логотип Турбина\" />\r\n    </h1>\r\n  )\r\n}\r\n\r\nexport default ProjectLogo;\r\n","import { useState, useEffect } from 'react';\r\n\r\n/*\r\nХук useAudioPlayer для использования аудиоплеера.\r\naudioElementId -- (строка, например 'audio')\r\ntrack -- трек из списка песен, устанавливается в качестве зависимости \r\n        (useEffect при смене трека)\r\n*/\r\nfunction useAudioPlayer(audioPlayerRef, track) {\r\n  const [isLoaded, setLoadedState] = useState(false);\r\n\r\n  const [duration, setDuration] = useState(0);\r\n  const [curTime, setCurTime] = useState(0);\r\n  const [isPlaying, setPlaying] = useState(false);\r\n  const [clickedTime, setClickedTime] = useState();\r\n\r\n  const handlePlayClick = () => {\r\n    setPlaying(!isPlaying);\r\n    isPlaying ? audioPlayerRef.current.pause() : audioPlayerRef.current.play();\r\n  }\r\n\r\n  const handleLoadedMetaData = () => {\r\n    setDuration(audioPlayerRef.current.duration);\r\n    setCurTime(audioPlayerRef.current.currentTime);\r\n    setLoadedState(true);\r\n  }\r\n\r\n  const handleTimeUpdate = () => setCurTime(audioPlayerRef.current.currentTime);\r\n\r\n  const handleTrackEnded = () => {\r\n    setDuration(audioPlayerRef.current.duration);\r\n    setCurTime(0);\r\n    handlePlayClick();\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (clickedTime && clickedTime !== curTime) {\r\n      audioPlayerRef.current.currentTime = clickedTime;\r\n      setClickedTime(null);\r\n    } \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clickedTime]);\r\n\r\n  useEffect(() => {\r\n    setCurTime(0);\r\n    setPlaying(false);\r\n    setLoadedState(false);\r\n  }, [track]);\r\n\r\n  return {\r\n    isPlaying,\r\n    handlePlayClick,\r\n    isLoaded,\r\n    handleTimeUpdate,\r\n    handleLoadedMetaData,\r\n    setClickedTime,\r\n    handleTrackEnded,\r\n    curTime,\r\n    duration\r\n  }\r\n}\r\n\r\nexport default useAudioPlayer;\r\n","function throttle(func, ms) {\r\n  \r\n  let isThrottled = false,\r\n    savedArgs,\r\n    savedThis;\r\n\r\n  const wrapper = () => {\r\n\r\n    if (isThrottled) {\r\n      // запоминаем последние аргументы для вызова после задержки\r\n      // eslint-disable-next-line no-undef\r\n      savedArgs = arguments;\r\n      savedThis = this;\r\n      return;\r\n    }\r\n\r\n    // в противном случае переходим в состояние задержки\r\n    // eslint-disable-next-line no-undef\r\n    func.apply(this, arguments);\r\n\r\n    isThrottled = true;\r\n\r\n    // настройка сброса isThrottled после задержки\r\n    setTimeout(() => {\r\n      isThrottled = false;\r\n      if (savedArgs) {\r\n        // если были вызовы, savedThis/savedArgs хранят последний из них\r\n        // рекурсивный вызов запускает функцию и снова устанавливает время задержки\r\n        wrapper.apply(savedThis, savedArgs);\r\n        savedArgs = savedThis = null;\r\n      }\r\n    }, ms);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\nexport default throttle;\r\n","import { useState, useEffect } from 'react';\r\nimport throttle from '../utils/throttle';\r\n\r\n/*\r\nХук useTicker реализует бегущую строку.\r\nИзмеряет текущую ширину элемента и контейнера, определяет необходимость\r\nпоявления бегущей строки и запускает её.\r\nРеагирует на 'resize' окна браузера.\r\nelementRef -- ссылка на элемент, который становится бегущей строкой.\r\ncontainerTickerAddClass -- класс, добавляемый в список классов контейнера\r\n      при появлении в нём бегущей строки.\r\ndependences -- массив зависимостей, при изменении которых снова проверяется \r\n      необходимость появления бегущей строки.\r\n*/\r\nfunction useTicker({ elementRef, containerTickerAddClass, dependences }) {\r\n  // стейт-переменная, определяющая необходимость бегущей строки\r\n  const [isTickerNeeded, setTickerState] = useState(false);\r\n  \r\n  // Обработчик ресайза окна\r\n  const handleResize = () => {\r\n    const element = elementRef.current;\r\n    const elementContainer = element.parentElement;\r\n    const elementWidth = element.scrollWidth;\r\n    const elementContainerWidth = elementContainer.clientWidth;\r\n    if (elementWidth > elementContainerWidth) {\r\n      setTickerState(true);\r\n    } else {\r\n      setTickerState(false);\r\n    }\r\n  }\r\n  // TODO -- можно КАК-ТО использовать для паузы в бегущей строке\r\n  // Функция задержки\r\n  const delay = async (ms) => await new Promise(resolve => setTimeout(resolve, ms));\r\n  \r\n  // Проверяем необходимость запуска бегущей строки при загрузке страницы,\r\n  // предварительно сбрасывая isTickerNeeded на false для выставления \"бегущего\"\r\n  // элемента в исходное положение.\r\n  useEffect(() => {\r\n    async function checkIsTickerNeeded() {\r\n      await delay(2000);\r\n      handleResize();\r\n    };\r\n    setTickerState(false);\r\n    checkIsTickerNeeded();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, dependences);\r\n\r\n  // Затормаживаем обработку ресайза окна браузера\r\n  const handleResizeThrottled = throttle(handleResize, 1000);\r\n\r\n  // Добавляем слышатели на ресайз окна\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResizeThrottled);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResizeThrottled);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  // Добавляем стейт переменную для хранения текущего номера таймера\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  \r\n  // При изменении isTickerNeeded запускаем или останавливаем бегущую строку\r\n  useEffect(() => {\r\n    const element = elementRef.current;\r\n    const elementContainer = element.parentElement;\r\n    const elementWidth = element.scrollWidth;\r\n    const elementContainerWidth = elementContainer.clientWidth;\r\n  \r\n    const startTicker = () => {\r\n      // TODO -- пауза\r\n      currentX--;\r\n      element.style.left = `${currentX}px`;\r\n      if (currentX === -elementWidth) {\r\n        // 10 здесь устанавливает \"задержку\" в пикселях перед появлением строки справа\r\n        currentX = elementContainerWidth + 10;\r\n      }\r\n    }\r\n  \r\n    let currentX = 0;\r\n    \r\n    if (isTickerNeeded) {\r\n      elementContainer.classList.add(containerTickerAddClass);\r\n      const currentIntervalId = setInterval(startTicker, 13);\r\n      setIntervalId(currentIntervalId)\r\n    } else {\r\n      elementContainer.classList.remove(containerTickerAddClass);\r\n      clearInterval(intervalId);\r\n      element.style.left = '0px';\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isTickerNeeded]);\r\n}\r\n\r\nexport default useTicker;\r\n","import { useRef } from 'react';\r\nimport './PlayerTimeline.css';\r\n\r\nfunction PlayerTimeline ({ duration, curTime, onTimeUpdate }) {\r\n  const timelineRef = useRef();\r\n\r\n  const curPercentage = (curTime / duration) * 100;\r\n\r\n  const calculateClickedTime = (e) => {\r\n    const timeline = timelineRef.current;\r\n    const timelineWidth = timeline.clientWidth;\r\n    const timelineStart = timeline.getBoundingClientRect().left;\r\n    const clickedXposition = e.pageX;\r\n    const clickedPositionOnTimeline = clickedXposition - timelineStart;\r\n    const timePerPixel = duration / timelineWidth;\r\n    \r\n    return clickedPositionOnTimeline * timePerPixel;\r\n  }\r\n\r\n  const handleTimeDrag = (e) => {\r\n    onTimeUpdate(calculateClickedTime(e));\r\n\r\n    const updateTimeOnMove = eMove => {\r\n      onTimeUpdate(calculateClickedTime(eMove));\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", updateTimeOnMove);\r\n\r\n    document.addEventListener(\"mouseup\", function handleMouseUp () {\r\n      document.removeEventListener(\"mousemove\", updateTimeOnMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className=\"player__timeline-container\"\r\n      onMouseDown={e => handleTimeDrag(e)}\r\n    >\r\n      <div\r\n        className=\"player__timeline\"\r\n        ref={timelineRef}\r\n      >\r\n        <div \r\n          className=\"player__progress\"\r\n          style={{ width: `${curPercentage}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerTimeline;\r\n","function formatDuration(duration) {\r\n  let minutes = Math.floor(duration/60);\r\n  let seconds = Math.floor(duration % 60);\r\n  if (seconds < 10) {seconds = '0'+seconds;}\r\n  return `${minutes}:${seconds}`;\r\n}\r\n\r\nexport default formatDuration;\r\n","import './PlayerTimer.css';\r\nimport formatDuration from '../../utils/formatDuration';\r\n\r\nfunction PlayerTimer ({ duration, curTime }) {\r\n  return (\r\n    <span className=\"player__timer\">\r\n      {formatDuration(duration - curTime)}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default PlayerTimer;\r\n","function PlayIcon ({\r\n  className = '',\r\n  width = 16,\r\n  height = 20,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 16 20\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path \r\n        d=\"M15.258 8.625c.99.651.99 2.099 0 2.75l-12.696 8.35C1.464 20.448 0 19.662 0 18.35V1.65C0 .338 1.464-.447 2.562.275l12.696 8.35z\" \r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default PlayIcon;\r\n","function PauseIcon ({\r\n  className='',\r\n  width = 13,\r\n  height = 16,\r\n  fill='#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 14 18\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M1 0a1 1 0 00-1 1v16a1 1 0 001 1h2a1 1 0 001-1V1a1 1 0 00-1-1H1zm10 0a1 1 0 00-1 1v16a1 1 0 001 1h2a1 1 0 001-1V1a1 1 0 00-1-1h-2z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default PauseIcon;\r\n","import './ControlBtn.css';\r\nimport PlayIcon from '../svg/PlayIcon';\r\nimport PauseIcon from '../svg/PauseIcon';\r\n\r\nfunction PlayerControlBtn({ isPlaying, onBtnClick }) {\r\n  return (\r\n    <button\r\n      className=\"control-btn\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      {isPlaying\r\n        ? <PauseIcon className=\"control-Icon_pause\" />\r\n        : <PlayIcon className=\"control-btn_play\" />\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default PlayerControlBtn;\r\n","export default function renderFrame(analyser, ctx, freqData, analyzerCanvas) {\r\n  const canvas = analyzerCanvas.current;\r\n  requestAnimationFrame(() => { renderFrame(analyser, ctx, freqData, analyzerCanvas) });\r\n  analyser.getByteFrequencyData(freqData);\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  const rgb1 = `rgb(${freqData[20]},${freqData[40]},${freqData[80]})`;\r\n  const rgb2 = `rgb(${freqData[30]},${freqData[50]},${freqData[70]})`;\r\n\r\n  const my_gradient = ctx.createLinearGradient(0, 0, 0, freqData[10]);\r\n  my_gradient.addColorStop(0, rgb1);\r\n  my_gradient.addColorStop(1, rgb2);\r\n\r\n  ctx.fillStyle = my_gradient;\r\n\r\n  const bars = 99;\r\n  for (var i = 0; i < bars; i++) {\r\n    let bar_x = 2 + i * 3;\r\n    let bar_width = 2;\r\n    let bar_height = -(freqData[i] / 2);\r\n    ctx.fillRect(bar_x, canvas.height, bar_width, bar_height)\r\n  }\r\n};\r\n","import { useRef, useEffect, useState } from 'react';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport './PlayerController.css';\r\nimport useAudioPlayer from '../../hooks/useAudioPlayer';\r\nimport useTicker from '../../hooks/useTicker';\r\nimport PlayerTimeline from './PlayerTimeline';\r\nimport PlayerTimer from './PlayerTimer';\r\nimport ControlBtn from './ControlBtn';\r\nimport renderFrame from '../../utils/renderFrame';\r\nimport cn from 'classnames';\r\n\r\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\nfunction PlayerController({ isPlayerExtend, track }) {\r\n  const trackRef = useRef();\r\n  const audioPlayerRef = useRef();\r\n  const [audioCtx, setAudioCtx] = useState(null);\r\n  const analyzerCanvas = useRef();\r\n\r\n  const isMobile = useMediaQuery({ query: '(max-width: 480px), (max-height: 600px)' });\r\n  const isLandscape = useMediaQuery({ query: '(orientation:landscape) and (max-height: 600px)' });\r\n\r\n  useEffect(() => {\r\n    try {\r\n\r\n      if (!audioPlayerRef.current.src.startsWith(window.location.href)) {\r\n        throw new Error('AudioContext отключен',\r\n          'текущий адрес: ', window.location.href,\r\n          'адрес трека: ', audioPlayerRef.current.src);\r\n      }\r\n\r\n      if (!isMobile) {\r\n        const context = new AudioContext();\r\n        const audio = audioPlayerRef.current;\r\n        const audioSrc = context.createMediaElementSource(audio);\r\n        const analyser = context.createAnalyser();\r\n        const canvas = analyzerCanvas.current;\r\n        const ctx = canvas.getContext('2d');\r\n        const freqData = new Uint8Array(analyser.frequencyBinCount);\r\n        audioSrc\r\n          .connect(analyser)\r\n          .connect(context.destination);\r\n        analyser.connect(context.destination);\r\n        setAudioCtx(context);\r\n        renderFrame(analyser, ctx, freqData, analyzerCanvas);\r\n      }\r\n    } catch (e) {\r\n      return\r\n    }\r\n  }, [isMobile]);\r\n\r\n  useTicker({\r\n    elementRef: trackRef,\r\n    containerTickerAddClass: 'player__song-container_masked',\r\n    dependences: [track, isPlayerExtend]\r\n  });\r\n\r\n  const {\r\n    isPlaying,\r\n    handlePlayClick,\r\n    isLoaded,\r\n    handleTimeUpdate,\r\n    handleLoadedMetaData,\r\n    setClickedTime,\r\n    handleTrackEnded,\r\n    curTime,\r\n    duration\r\n  } = useAudioPlayer(audioPlayerRef, track);\r\n\r\n  if (isPlaying && audioCtx) {\r\n    if (audioCtx.state === 'suspended') {\r\n      audioCtx.resume()\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <>\r\n      <div className=\"player__controller\">\r\n        <audio\r\n          src={track.link}\r\n          preload=\"auto\"\r\n          ref={audioPlayerRef}\r\n          onLoadedMetadata={handleLoadedMetaData}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onEnded={handleTrackEnded}\r\n        >\r\n          <p>Ваш браузер не поддерживает HTML5 аудио.</p>\r\n        </audio>\r\n        <ControlBtn\r\n          isPlaying={isPlaying}\r\n          onBtnClick={handlePlayClick}\r\n        />\r\n        <div className=\"player__song-container\">\r\n          <p\r\n            className=\"player__song\"\r\n            ref={trackRef}\r\n          >\r\n            {isLoaded\r\n              ? <>\r\n                {track.trackName} — {track.author}\r\n                <span className=\"player__song-accent\"> feat. </span>\r\n                {track.originalAuthor}\r\n              </>\r\n              : 'Загрузка...'\r\n            }\r\n          </p>\r\n        </div>\r\n        {isLoaded &&\r\n          <PlayerTimer\r\n            duration={duration}\r\n            curTime={curTime}\r\n          />\r\n        }\r\n        <PlayerTimeline\r\n          curTime={curTime}\r\n          duration={duration}\r\n          onTimeUpdate={(time) => setClickedTime(time)}\r\n        />\r\n      </div>\r\n      <div className='player__bar-wrapper'> \r\n      <canvas\r\n          className={cn('player__bar',\r\n            { 'player__bar_active': !isMobile && !isLandscape && isPlaying },\r\n            { 'player__bar_active-and-theme': track.theme.backgroundImage.includes('gradient') })}\r\n          ref={analyzerCanvas}\r\n          id=\"analyzer\">\r\n        </canvas>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlayerController;\r\n","import './PlayerSwitcher.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction PlayerSwitcher ({ onClick, isTextInfo  }) {\r\n\r\n  const [switcherStyle, setContentStyle] = useState('player__switcher-text');\r\n\r\n  const setChangeStyle = () => {\r\n    setContentStyle('player__switcher-text');\r\n    setTimeout(() => {  \r\n      setContentStyle('player__switcher-text player__switcher-text_loading');\r\n    }, 100)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setChangeStyle();\r\n  }, [isTextInfo])\r\n\r\n  return (   \r\n    <button onClick={ onClick } className='player__switcher'>\r\n      <p className={switcherStyle}>{isTextInfo ? 'Релизы' : 'Текст песни'}</p>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default PlayerSwitcher;\r\n","function ExtendRoundIcon ({\r\n  className = '',\r\n  width = 24,\r\n  height = 24,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm.64-15.768L12 7.698l-.64.534-6 5 1.28 1.536L12 10.302l5.36 4.466 1.28-1.536-6-5z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ExtendRoundIcon;\r\n","function CloseRoundIcon ({\r\n  className='',\r\n  width=24,\r\n  height=24,\r\n  fill='#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-13.413 0L7.05 8.464 8.465 7.05l3.536 3.536 3.536-3.536 1.414 1.414L13.415 12l3.536 3.536-1.415 1.414-3.535-3.536-3.536 3.536-1.414-1.414L10.587 12z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default CloseRoundIcon;\r\n","import './ExtendBtn.css';\r\nimport ExtendBtnIcon from '../svg/ExtendRoundIcon';\r\nimport CloseBtnIcon from '../svg/CloseRoundIcon';\r\n\r\nfunction ExtendBtn ({ isOpen, onBtnClick }) {\r\n  return (\r\n    <button\r\n      className=\"extend-btn\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      {isOpen\r\n        ? <CloseBtnIcon className=\"extend-btn_close\" />\r\n        : <ExtendBtnIcon className=\"extend-btn_open\" />\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default ExtendBtn;\r\n","import './PlayerTrack.css';\r\nimport cn from 'classnames';\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction PlayerTrack({ track, onTrackClick, inList, isLoading, trackId, currentTrack }) {\r\n\r\n  const [loading, setLoading] = useState(isLoading);\r\n  const checked = trackId === currentTrack.id\r\n  const trackStyle = cn('player__track', { 'player__track_checked': checked }, { 'player__track_info': inList }, { 'player__track_loading': loading });\r\n\r\n  const handleClick = () => {\r\n    if (onTrackClick) {\r\n      onTrackClick(track);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 100);\r\n\r\n  }, [isLoading]);\r\n\r\n  return (\r\n    <p onClick={handleClick} className={trackStyle}>\r\n      {`${track.trackName} — ${track.author} `}\r\n      <span className='player__feat'> feat. </span>\r\n      {`${track.originalAuthor}`}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default PlayerTrack;\r\n","import './PlayerInfoContent.css';\r\nimport PlayerTrack from './PlayerTrack';\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction PlayerInfoContent({ tracks, isTextInfo, currentTrack, onTrackClick }) {\r\n\r\n  const [contentStyle, setContentStyle] = useState('player__content');\r\n\r\n  const setChangeStyle = () => {\r\n    setContentStyle('player__content');\r\n    setTimeout(() => {  \r\n      setContentStyle('player__content player__content_loading');\r\n    }, 100)\r\n  }\r\n\r\n  const setTextLyricsFormat = (text) => {\r\n    const textArray = text.split('\\n')\r\n    return textArray.map((line, i) => (\r\n      <p key={i} className='player__text-line'>{line}</p>\r\n    ))\r\n  }\r\n\r\n  const setSongLyrics = (currentTrack) => {\r\n    return (<>\r\n      <p className='player__info-header'>Текст песни:</p>\r\n      {setTextLyricsFormat(currentTrack.text)}\r\n    </>)\r\n  }\r\n\r\n  const setReleaseList = (tracks) => {\r\n    if (tracks.length === 1) {\r\n      return <p className='player__info-header'>Пока это единственный релиз, но скоро будут новые</p>\r\n    } else {\r\n      return (\r\n        <>\r\n          <p className='player__info-header'>Релизы: </p>\r\n          <ul className='player__tracks'>\r\n            {tracks.map((track, i) => (\r\n              <li key={track.id} className='player__track-item'>\r\n                <PlayerTrack\r\n                  trackId = {track.id}\r\n                  currentTrack={currentTrack}\r\n                  track={track}\r\n                  onTrackClick={onTrackClick}\r\n                  inList={true}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n\r\n  const setInfoContent = (isTextInfo) => {\r\n    return isTextInfo ? setSongLyrics(currentTrack) : setReleaseList(tracks)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setChangeStyle()\r\n  }, [isTextInfo])\r\n\r\n  return (\r\n    <div className={contentStyle}>\r\n      {setInfoContent(isTextInfo)}\r\n    </div>   \r\n  )\r\n}\r\n\r\nexport default PlayerInfoContent;\r\n","import './PlayerInfoContainer.css';\r\nimport PlayerInfoContent from './PlayerInfoContent';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nfunction PlayerInfoContainer({ tracks, isOpen, isTextInfo, currentTrack, onTrackClick, isLoading }) {\r\n  const isScrollbarHeight1280 = useMediaQuery({ query: '(min-width: 1280px)' });\r\n  const isScrollbarHeight1024 = useMediaQuery({ query: '(min-width: 1025px)' });\r\n  const isScrollbarHeight768 = useMediaQuery({ query: '(min-width: 768px)' });\r\n  const isScrollbarHeight480 = useMediaQuery({ query: '(min-width: 480px)' });\r\n\r\n  const height = isScrollbarHeight1280 ? 118 : isScrollbarHeight1024 ? 118 : isScrollbarHeight768 ? 102 : isScrollbarHeight480 ? 100 : 88;\r\n\r\n  const renderView = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box'\r\n        style={{ ...style, overflowX: 'hidden' }}\r\n        {...props}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderThumb = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box-thumb'\r\n        style={{ ...style }}\r\n        {...props} />\r\n    );\r\n  };\r\n\r\n  const renderTrack = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box-track'\r\n        style={{ ...style, width: 3 }}\r\n        {...props} />\r\n    );\r\n  };\r\n\r\n  const renderTrackHorizontal = ({ style, ...props }) => {\r\n    return (\r\n    <div\r\n      style={{ display: 'none' }}\r\n      {...props}\r\n    />\r\n    );\r\n  };\r\n\r\n  return (\r\n\r\n    <div className={`player__info-container ${isOpen && 'player__info-container_active'}`}>\r\n      <Scrollbars\r\n        className='player__scrollbars'\r\n        renderView={renderView}\r\n        style={{ height: height }}\r\n        renderThumbVertical={renderThumb}\r\n        renderTrackVertical={renderTrack}\r\n        renderTrackHorizontal={renderTrackHorizontal}\r\n        hideTracksWhenNotNeeded={true}\r\n      >\r\n        < PlayerInfoContent\r\n          tracks={tracks}\r\n          isOpen={isOpen}\r\n          isTextInfo={isTextInfo}\r\n          currentTrack={currentTrack}\r\n          onTrackClick={onTrackClick}\r\n          isLoading={isLoading}\r\n        />\r\n      </Scrollbars >\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerInfoContainer;\r\n","function ClipBtnIcon ({\r\n  className='',\r\n  width=87,\r\n  height=34,\r\n  fill='#fff'\r\n}) {\r\n  return(\r\n    <svg\r\n      className={className}\r\n      width=\"87\"\r\n      height=\"34\"\r\n      viewBox=\"0 0 87 34\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <mask\r\n        id=\"a\"\r\n        fill=\"#fff\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M17 0C7.611 0 0 7.611 0 17s7.611 17 17 17h53c9.389 0 17-7.611 17-17S79.389 0 70 0H17zm22.717 22h2.009l-4.502-5.976 4.528-4.933h-2.04L35.467 15.7h-.565V11.09h-1.646v10.91h1.646v-4.89h1.13L39.716 22zm2.904 0h.51c1.785 0 2.44-1.32 2.568-4.027l.128-2.78h2.674V22h1.56v-8.182h-5.71l-.143 3.623c-.101 2.524-.389 3.18-1.3 3.18h-.293L42.62 22zm11.126-2.232v-5.95h-1.561V22h1.731l3.59-5.955V22h1.561v-8.182h-1.715l-3.606 5.95zM61.209 22h1.55v-6.807h3.564V22h1.56v-8.182H61.21V22zm-37.58-5.687a.822.822 0 010 1.374l-6.348 4.175A.826.826 0 0116 21.175v-8.35a.826.826 0 011.281-.687l6.348 4.175z\"\r\n        />\r\n      </mask>\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\" \r\n        d=\"M17 0C7.611 0 0 7.611 0 17s7.611 17 17 17h53c9.389 0 17-7.611 17-17S79.389 0 70 0H17zm22.717 22h2.009l-4.502-5.976 4.528-4.933h-2.04L35.467 15.7h-.565V11.09h-1.646v10.91h1.646v-4.89h1.13L39.716 22zm2.904 0h.51c1.785 0 2.44-1.32 2.568-4.027l.128-2.78h2.674V22h1.56v-8.182h-5.71l-.143 3.623c-.101 2.524-.389 3.18-1.3 3.18h-.293L42.62 22zm11.126-2.232v-5.95h-1.561V22h1.731l3.59-5.955V22h1.561v-8.182h-1.715l-3.606 5.95zM61.209 22h1.55v-6.807h3.564V22h1.56v-8.182H61.21V22zm-37.58-5.687a.822.822 0 010 1.374l-6.348 4.175A.826.826 0 0116 21.175v-8.35a.826.826 0 011.281-.687l6.348 4.175z\"\r\n        fill={fill}\r\n      />\r\n      <path \r\n        fill={fill}\r\n        mask=\"url(#a)\"\r\n        d=\"M41.726 22v2h4.01l-2.413-3.203L41.726 22zm-2.009 0l-1.597 1.204.6.796h.997v-2zm-2.492-5.976L35.75 14.67l-1.125 1.226 1 1.33 1.599-1.203zm4.527-4.933l1.474 1.353 3.077-3.353h-4.55v2zm-2.04 0v-2h-.877l-.594.645 1.471 1.355zM35.467 15.7v2h.877l.594-.645-1.471-1.355zm-.565 0h-2v2h2v-2zm0-4.608h2v-2h-2v2zm-1.646 0v-2h-2v2h2zm0 10.91h-2v2h2v-2zm1.646 0v2h2v-2h-2zm0-4.89v-2h-2v2h2zm1.13 0l1.596-1.205-.6-.796h-.997v2zM42.62 22l-2 .007.007 1.992h1.992v-2zm3.078-4.028l1.998.095v-.003l-1.998-.092zm.128-2.78v-2h-1.91l-.088 1.908 1.998.092zm2.674 0h2v-2h-2v2zm0 6.807h-2v2h2v-2zm1.56 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-5.71 0v-2H42.43l-.076 1.921 1.999.08zm-.143 3.623l1.998.08v-.001l-1.998-.08zm-1.593 3.18v-2h-2.008l.008 2.007 2-.007zm11.132-6.803h2v-2h-2v2zm0 5.95h-2v7.159l3.71-6.122-1.71-1.037zm-1.561-5.95v-2h-2v2h2zm0 8.182h-2v2h2v-2zm1.731 0v2h1.13l.583-.967L53.917 22zm3.59-5.955h2V8.854l-3.712 6.158 1.712 1.033zm0 5.955h-2v2h2v-2zm1.561 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-1.715 0v-2h-1.127l-.584.964 1.71 1.036zM62.759 22v2h2v-2h-2zm-1.55 0h-2v2h2v-2zm1.55-6.807v-2h-2v2h2zm3.564 0h2v-2h-2v2zm0 6.807h-2v2h2v-2zm1.56 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-6.674 0v-2h-2v2h2zm-37.58 3.87l1.099 1.67-1.1-1.67zm0-1.375l-1.1 1.67 1.1-1.67zm-6.348 5.55l-1.099-1.671 1.099 1.67zm0-9.725l1.1-1.671-1.1 1.67zM2 17C2 8.716 8.716 2 17 2v-4C6.507-2-2 6.507-2 17h4zm15 15C8.716 32 2 25.284 2 17h-4c0 10.493 8.507 19 19 19v-4zm53 0H17v4h53v-4zm15-15c0 8.284-6.716 15-15 15v4c10.493 0 19-8.507 19-19h-4zM70 2c8.284 0 15 6.716 15 15h4C89 6.507 80.493-2 70-2v4zM17 2h53v-4H17v4zm24.726 18h-2.009v4h2.009v-4zm-6.1-2.773l4.502 5.976 3.195-2.406-4.5-5.977-3.196 2.407zm4.653-7.488L35.75 14.67l2.947 2.705 4.528-4.932-2.947-2.705zm-.567 3.352h2.04v-4h-2.04v4zm-2.774 3.963l4.245-4.608-2.942-2.71-4.245 4.607 2.942 2.71zm-2.036.645h.565v-4h-.565v4zm-2-6.608V15.7h4V11.09h-4zm.354 2h1.646v-4h-1.646v4zm2 8.91V11.09h-4v10.91h4zm-.354-2h-1.646v4h1.646v-4zm-2-2.89V22h4v-4.89h-4zm3.13-2h-1.13v4h1.13v-4zm5.283 5.685l-3.687-4.89-3.194 2.408 3.686 4.89 3.195-2.408zM43.132 20h-.511v4h.51v-4zm.57-2.121c-.062 1.295-.247 1.872-.378 2.09-.039.064-.038.04.01.014.036-.019-.003.017-.202.017v4c.692 0 1.405-.129 2.07-.48a3.964 3.964 0 001.548-1.486c.674-1.12.88-2.555.947-3.966l-3.995-.19zm.127-2.778l-.128 2.78 3.996.184.128-2.78-3.996-.184zm4.672-1.908h-2.674v4h2.674v-4zm2 8.807v-6.807h-4V22h4zm-.44-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm-3.71 2h5.71v-4h-5.71v4zm1.855 1.702l.144-3.622-3.997-.159-.144 3.622 3.997.159zm-3.298 5.1c.46 0 1.069-.081 1.656-.46.596-.383.941-.924 1.146-1.418.354-.857.447-2.004.496-3.221l-3.997-.16c-.024.605-.058 1.05-.101 1.378a3.847 3.847 0 01-.063.362c-.02.084-.033.116-.031.111.006-.014.102-.233.384-.415.275-.176.506-.176.51-.176v4zm-.293 0h.293v-4h-.293v4zm2.005-.628l-.005-1.38-4 .016.005 1.38 4-.015zm7.127-8.174v5.95h4v-5.95h-4zm.439 2h1.56v-4h-1.56v4zm2 6.182v-8.182h-4V22h4zm-.269-2h-1.731v4h1.731v-4zm1.877-4.988l-3.59 5.956 3.426 2.065 3.59-5.955-3.425-2.066zM59.508 22v-5.955h-4V22h4zm-.439-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm.285 2h1.715v-4h-1.715v4zm-1.896 4.987l3.606-5.95-3.42-2.073-3.607 5.95 3.421 2.073zM62.759 20h-1.55v4h1.55v-4zm-2-4.807V22h4v-6.807h-4zm5.564-2h-3.564v4h3.564v-4zm2 8.807v-6.807h-4V22h4zm-.44-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm-4.674 2h6.675v-4h-6.675v4zm2 6.182v-8.182h-4V22h4zm-38.481-2.642c1.696-1.115 1.696-3.6 0-4.716l-2.198 3.342a1.178 1.178 0 010-1.968l2.198 3.342zm-6.348 4.175l6.348-4.175-2.198-3.342-6.348 4.176 2.198 3.341zM14 21.175c0 2.26 2.51 3.588 4.38 2.358l-2.198-3.341a1.174 1.174 0 011.818.983h-4zm0-8.35v8.35h4v-8.35h-4zm4.38-2.358c-1.87-1.23-4.38.099-4.38 2.358h4c0 .947-1.047 1.49-1.818.984l2.198-3.342zm6.348 4.175l-6.348-4.175-2.198 3.341 6.348 4.176 2.198-3.342z\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ClipBtnIcon;\r\n","import './VideoBtn.css';\r\nimport ClipBtnIcon from '../svg/ClipBtnIcon';\r\n\r\nfunction VideoBtn ({ videoLink }) {\r\n  return (\r\n    <a className='video-link-wrapper'\r\n      href={videoLink}\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n    >\r\n      <ClipBtnIcon className=\"video-link\" />\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default VideoBtn;\r\n","import cn from 'classnames';\r\nimport './Spinner.css';\r\n\r\nfunction Spinner ({ width='50%', height='50%', isImageLoaded }) {\r\n  return (\r\n    <div\r\n      className={cn(\"spinner\", {\"spinner_hidden\": isImageLoaded})}\r\n      style={{width, height}}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Spinner;\r\n","export default __webpack_public_path__ + \"static/media/note-round-icon.c538843e.svg\";","import { useEffect, useState, useRef } from 'react';\r\nimport cn from 'classnames';\r\nimport './PlayerCover.css';\r\nimport Spinner from './Spinner';\r\nimport gag from '../../images/note-round-icon.svg';\r\n\r\nfunction PlayerCover({\r\n  image,\r\n  style,\r\n  trackName,\r\n  author,\r\n  originalAuthor\r\n}) {\r\n  const [isLoaded, setLoadState] = useState(false);\r\n  const imageLink = image ? image : gag;\r\n  const imageRef = useRef();\r\n\r\n  useEffect(() => { \r\n    /* в Safari изображения подгружаются в кеш, и грузятся из него так быстро, что useEffect срабатывает уже после подгрузки изображения, и всё ломает. Поэтому теперь это обернуто в if */\r\n    if (!imageRef.current.complete) {\r\n      setLoadState(false);\r\n    }\r\n  }, [image])\r\n  \r\n  const handleLoad = () => {\r\n    setLoadState(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"cover-wrapper\" style={style}>\r\n      <img\r\n        ref={imageRef}\r\n        src={imageLink}\r\n        className={cn(\"cover\", {\"cover_visible\": isLoaded})}\r\n        onLoad={handleLoad}\r\n        alt={`Обложка трека ${trackName}, исполняет ${author}, стихи ${originalAuthor}`}\r\n      />\r\n      <Spinner\r\n        isImageLoaded={isLoaded}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerCover;\r\n","export default __webpack_public_path__ + \"static/media/madconbeggin.baac2a6d.mp3\";","export default __webpack_public_path__ + \"static/media/Navai.f61bdea2.mp3\";","export default __webpack_public_path__ + \"static/media/The XX - Crystalised.a1269496.mp3\";","export default __webpack_public_path__ + \"static/media/The XX - Infinity .111d07ad.mp3\";","export default __webpack_public_path__ + \"static/media/nikolife-miravi-klubnika-bomba.dca990ca.mp3\";","export default __webpack_public_path__ + \"static/media/daft-punk-feat.-julian-casablancas-instant-crush.cf0f1c1f.mp3\";","export default __webpack_public_path__ + \"static/media/Rasa - Пчеловод.a2b44717.mp3\";","export default __webpack_public_path__ + \"static/media/background.ec2c8593.png\";","import madconbeggin from './audio/madconbeggin.mp3';\r\nimport Navai from './audio/Navai.mp3';\r\nimport Crystalised from './audio/The XX - Crystalised.mp3';\r\nimport Infinity_ from './audio/The XX - Infinity .mp3';\r\nimport klubnika from './audio/nikolife-miravi-klubnika-bomba.mp3';\r\nimport daftPunkFeat from './audio/daft-punk-feat.-julian-casablancas-instant-crush.mp3';\r\nimport beekeeper from './audio/Rasa - Пчеловод.mp3';\r\nimport defaultBackground from '../images/background.png';\r\n\r\n\r\n\r\nexport const tracks = [\r\n\r\n  {\r\n    id: '№1',\r\n    trackName: 'Контур',\r\n    author: 'Хадн Дадн',\r\n    originalAuthor: 'Варя Карпова и Федя Быстров',\r\n    text: `Мой милый, милый мальчик,\r\n      Моя милая, милая девочка.\r\n      Никогда не знаешь, что будет дальше\r\n      В этой гадкой зиме`,\r\n    link: Crystalised,\r\n    videoLink: 'https://www.youtube.com/watch?v=p2xFqtgwhrU',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${defaultBackground})`,\r\n    },\r\n  },\r\n  {\r\n    id: '№2',\r\n    trackName: 'Лодка',\r\n    author: 'СБПЧ',\r\n    originalAuthor: 'Маруся Романова',\r\n    text: ``,\r\n    link: Infinity_,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'blue',\r\n      backgroundImage: 'linear-gradient(15deg, #13547a 0%, #80d0c7 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1565292334631-95d1dd9e2970?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=742&q=80',\r\n  },\r\n  {\r\n    id: '№3',\r\n    trackName: 'Кирпичи',\r\n    author: 'Инди группа',\r\n    originalAuthor: 'Пётр Сковородников',\r\n    text: ``,\r\n    link: madconbeggin,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#000',\r\n      backgroundColor: 'white',\r\n      backgroundImage: 'linear-gradient(to top, #f43b47 0%, #453a94 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80',\r\n  },\r\n  {\r\n    id: '№4',\r\n    trackName: 'Стой',\r\n    author: 'АлоэВера',\r\n    originalAuthor: 'Юля Дорошина',\r\n    text: ``,\r\n    link: daftPunkFeat,\r\n    theme: {\r\n      color: '#8B0000',\r\n      backgroundColor: '#98FB98',\r\n      backgroundImage: 'linear-gradient(to top, #3b41c5 0%, #a981bb 49%, #ffc8a9 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1525253604620-23ac591dbea0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=802&q=80',\r\n  },\r\n  {\r\n    id: '№5',\r\n    trackName: 'Пчеловод',\r\n    author: 'Rasa',\r\n    originalAuthor: 'Серёжа Медведев',\r\n    text: `Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, с тобой мне повезет\r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет \r\n    И в танце унесет\r\n    \r\n    Никто не узнает куда пропадали\r\n    Мы пчелами летали до утра\r\n    Жужжали, жужжали мы над этажами\r\n    Меня опьянила луна\r\n    \r\n    Бжж… Бжж… Бжж… Мы просто пчелы\r\n    Бжж… Бжж… Бжж… Мы просто пчелы\r\n    Бжж… Бжж… Бжж… На все готовы…\r\n    Бжж… Бжж… Бжж… На все готовы…\r\n    \r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, с тобой мне повезет\r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет\r\n    И в танце унесет\r\n    \r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, с тобой мне повезет\r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет\r\n    И в танце унесет\r\n    \r\n    Где бы ты ни был, с кем бы ты ни был\r\n    Небо поможет нам ярким рассветом\r\n    Всё, что захочешь тебе подарю\r\n    Музыку света, море, волну\r\n    Давай отложим с тобою дела\r\n    Музыка двигает наши тела\r\n    Сердце пронзила пчела\r\n    Я полюбила тебя\r\n    \r\n    Бжж… Бжж… Бжж… Мы просто пчелы\r\n    Бжж… Бжж… Бжж… Мы просто пчелы\r\n    Бжж… Бжж… Бжж… На все готовы…\r\n    Бжж… Бжж… Бжж… На все готовы…\r\n    \r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, с тобой мне повезет\r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, \r\n    И в танце унесет\r\n    \r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет, с тобой мне повезет\r\n    Ты пчела — я пчеловод\r\n    А мы любим мед\r\n    А мне повезет\r\n    И в танце унесет\r\n    \r\n    В танце унесет\r\n    В танце унесет\r\n    В танце унесет\r\n    В танце унесет`,\r\n    link: beekeeper,\r\n    theme: {\r\n      color: '#191970',\r\n      backgroundColor: '#B0E0E6',\r\n      backgroundImage: 'linear-gradient(-45deg, #ffad66 0%, #ff6691 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1568526381923-caf3fd520382?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80',\r\n  },\r\n  {\r\n    id: '№6',\r\n    trackName: 'Добрая песня',\r\n    author: 'Тени свободы',\r\n    originalAuthor: 'Даша Овчинникова',\r\n    text: `Я верю, что ты немного лучше,\r\n    Немного выше кучи недоразумений,\r\n    В которой мы погрязли не совсем по нашей воле\r\n    \r\n    Бывает страшно, зато не скучно,\r\n    Бывает больно так, что ясно без сомнений —\r\n    На один целых ноль десятых создан мир из боли\r\n    Мы знаем, он может быть чуточку злым,\r\n    Но нету причин и тебе быть таким\r\n    \r\n    Стоять и терпеть и вниз не смотреть,\r\n    Ну и что теперь, раз зубы оскалил этот зверь,\r\n    Я верю — мы, мы сильнее,\r\n    Пускай он кричит, пускай он горит, раз наш мир дерьмо,\r\n    Зачем быть похожим на него?\r\n    Лишь из-за нас он болеет\r\n    \r\n    Мы полагаем, что всё срастется,\r\n    Что небо, сбросив свою серость, улыбнется,\r\n    Так покажи и научи его, как это делать`,\r\n    link: Navai,\r\n    theme: {\r\n      color: '#800000',\r\n      backgroundColor: '#D3D3D3',\r\n      backgroundImage: 'linear-gradient(-225deg, #CBBACC 0%, #2580B3 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1587532635449-61603976e580?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1789&q=80',\r\n  },\r\n  {\r\n    id: '№7',\r\n    trackName: 'Sad princess',\r\n    author: 'Alai Oli',\r\n    originalAuthor: 'Оля Ерофеева',\r\n    text: `Все горит, но я буду веселиться\r\n    Такой принцип\r\n    Ничего плохого не случится\r\n    Если все уже случилось с тобой\r\n    Пост апокалипсис личный\r\n    Все горит, но я буду веселиться\r\n    Такой принцип, ничего плохого не случится\r\n    Если все уже случилось с тобой`,\r\n    link: klubnika,\r\n    theme: {\r\n      color: '#800080',\r\n      backgroundColor: '#708090',\r\n      backgroundImage: 'linear-gradient(-225deg, #A8BFFF 0%, #884D80 100%)',\r\n    },\r\n    albumPicture: 'https://images.unsplash.com/photo-1459305272254-33a7d593a851?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80',\r\n  },\r\n]\r\n\r\nexport default tracks;\r\n","import { useState } from 'react';\r\nimport { useSpring, animated } from 'react-spring';\r\nimport './Player.css';\r\nimport PlayerController from './PlayerController';\r\nimport PlayerSwitcher from './PlayerSwitcher';\r\nimport ExtendBtn from './ExtendBtn';\r\nimport PlayerInfoContainer from './PlayerInfoContainer';\r\nimport VideoBtn from './VideoBtn';\r\nimport PlayerCover from './PlayerCover';\r\nimport tracks from '../../db/tracks';\r\n\r\nfunction Player ({ isPlayerExtend, onPlayerExtend, style, currentTrack, onSetCurrentTrack }) {\r\n  const [isTextInfo, setTextInfo] = useState(false);\r\n  const [isExtendElementsMounted, setIsExtendElementsMounted] = useState(false);\r\n\r\n  const extendPlayerAnimationConfig = useSpring({\r\n    from: { opacity: .1, scale: 0.8 },\r\n    to: { opacity: isPlayerExtend ? 1 : 0.1, scale: isPlayerExtend ? 1 : 0.8 },\r\n    config: { duration: 250 },\r\n    onRest: () => {\r\n      if (!isPlayerExtend) {\r\n        setIsExtendElementsMounted(false)\r\n      }\r\n    } \r\n  });\r\n\r\n  const handleExtendClick = () => {\r\n    onPlayerExtend();\r\n    setIsExtendElementsMounted(true);\r\n  }\r\n\r\n  const handleTrackClick = (track) => {\r\n    onSetCurrentTrack(track);\r\n  }\r\n\r\n  const handlePlayerSwitcherClick = () => {\r\n    setTextInfo(!isTextInfo);\r\n  }\r\n\r\n  const AnimatedPlayerCover = animated(PlayerCover);\r\n  \r\n  return (\r\n    <section className=\"player\" style={style}>\r\n      {isExtendElementsMounted && \r\n        <AnimatedPlayerCover\r\n          image={currentTrack.albumPicture}\r\n          style={extendPlayerAnimationConfig}\r\n          trackName={currentTrack.trackName}\r\n          author={currentTrack.author}\r\n          originalAuthor={currentTrack.originalAuthor}\r\n        />\r\n      }\r\n      <PlayerController\r\n        isPlayerExtend={isPlayerExtend}\r\n        track={currentTrack}\r\n      />\r\n      <ExtendBtn\r\n        isOpen={isPlayerExtend}\r\n        onBtnClick={handleExtendClick}\r\n      />\r\n      {isPlayerExtend && \r\n        <PlayerInfoContainer\r\n        isOpen={isPlayerExtend}\r\n        onTrackClick={handleTrackClick}\r\n        tracks={tracks}\r\n        isTextInfo={isTextInfo}\r\n        currentTrack={currentTrack}\r\n        />\r\n      }\r\n      {isExtendElementsMounted &&\r\n        <animated.div \r\n          className=\"player__buttons-wrapper\"\r\n          style={extendPlayerAnimationConfig}\r\n        >\r\n          {currentTrack.videoLink &&\r\n            <VideoBtn \r\n              videoLink={currentTrack.videoLink}\r\n            /> \r\n          }\r\n          <PlayerSwitcher\r\n            onClick={handlePlayerSwitcherClick}\r\n            isTextInfo={isTextInfo}\r\n          />\r\n        </animated.div>\r\n      }\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Player;\r\n","\r\nimport { useSpring, animated, } from 'react-spring';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport './Main.css';\r\nimport Header from './Header';\r\nimport ProjectLogo from './ProjectLogo';\r\nimport Player from './Player/Player';\r\n\r\nfunction Main({ onPlayerExtend, isPlayerExtend, isLandscape, isMobile, onSetCurrentTrack, currentTrack }) {\r\n\r\n  const isShortMobile = useMediaQuery({ query: '(max-width: 480px) and (max-height: 550px)' });\r\n  const isTallMobile = useMediaQuery({ query: '(max-width: 480px) and (min-height: 551px)' });\r\n  const isWideMobile = useMediaQuery({ query: '(max-width: 600px)' });\r\n  const isNarrowDesktop = useMediaQuery({ query: '(max-width: 1024px)' });\r\n  const AnimatedPlayer = animated(Player);\r\n\r\n  const calcDefaultHeight = () => {\r\n    switch (true) {\r\n      case isTallMobile || isShortMobile:\r\n        return \"35px\";\r\n      case isWideMobile || isNarrowDesktop:\r\n        return \"38px\";\r\n      default:\r\n        return \"42px\";\r\n    }\r\n  };\r\n\r\n  const calcExtendedHeight = () => {\r\n    switch (true) {\r\n      case isTallMobile:\r\n        return '466px';\r\n      case isShortMobile:\r\n        return '380px';\r\n      case isWideMobile:\r\n        return '220px';\r\n      case isNarrowDesktop:\r\n        return '170px';\r\n      default:\r\n        return '186px';\r\n    }\r\n  };\r\n\r\n  const extendСonfig = useSpring({\r\n    to: { height: isPlayerExtend ? calcExtendedHeight() : calcDefaultHeight() },\r\n    config: { mass: 1, tension: isMobile ? 110 : 120, friction: 17 }\r\n  });\r\n\r\n  return (\r\n    <section className=\"main\">\r\n      <Header\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n      />\r\n      <ProjectLogo\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n      />\r\n      <AnimatedPlayer\r\n        isPlayerExtend={isPlayerExtend}\r\n        onPlayerExtend={onPlayerExtend}\r\n        style={extendСonfig}\r\n        currentTrack={currentTrack}\r\n        onSetCurrentTrack={onSetCurrentTrack}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import './TextContainer.css';\r\n\r\nfunction TextContainer() {\r\n    return (\r\n        <div className=\"text\">\r\n      <h2 className=\"text__heading\">О проекте</h2>\r\n        <p className=\"text__paragraph\">\r\n          Мы знаем, что наши дети постоянно существуют в режиме непрекращающегося творческого процесса. Мы видим это, когда ребёнок что-то напевает, когда он бесконечно рисует, когда придумывает истории, когда разговаривает с едой и игрушками — дети постоянно включены и что-то изобретают. Родители часто недооценивают это спонтанное творчество ребёнка. Это не плохо, просто мы привыкаем к этому. Давайте попробуем внимательнее присмотреться к нашим детям.\r\n        </p>\r\n        <p className=\"text__paragraph\">\r\n          Мы запускаем проект «ТУРБИНА», который открывает работу настоящего музыкального лейбла на базе «Маршака». В рамках «ТУРБИНЫ» лучшие современные инди-музыканты пишут свои песни на стихи, написанные детьми. Здесь важно — мы не заставляем наших детей садиться и писать поэзию, мы говорим о том, что родителям стоит быть более внимательными и чуткими к своим детям. Именно так мы сможем получить тексты, которые перестанут быть детскими, не будут осмыслены как взрослые — поэзия, которая сокращает дистанцию между взрослостью и детством, где спонтанное детское творчество и бессознательное, замеченное родителем, становится общественным культурным достоянием.\r\n        </p>\r\n        <h2 className=\"text__heading\">Как это работает</h2>\r\n        <p className=\"text__paragraph\">\r\n          Вы можете прислать нам тексты, родившиеся у ваших детей, которые вы записали и считаете, что это сильное высказывание. Мы собираем пул таких текстов и передаём их музыкантам. Артисты создают музыку на эти стихи. Мы продюсируем выпуск трека, возможно съёмки клипа и так далее. Мы всегда указываем автора стихотворений внутри релиза: Хадн Дадн feat. Варя Карпова и Федя Быстров — Контур.\r\n        </p>\r\n        <h2 className=\"text__heading\">Тезисы</h2>\r\n        <ul className=\"text__list text__paragraph\">\r\n          <li className=\"text__list-item\">\r\n            Дети никогда не прекращают творить и круто стараться быть на них похожими в этом.\r\n          </li>\r\n          <li className=\"text__list-item\">\r\n            Детское бессознательное помогает родителям понять, что происходит внутри семьи.\r\n          </li>\r\n          <li className=\"text__list-item\">\r\n            Не существует детской и взрослой поэзии. Существует мысль и чувство, зафиксированное в ней.\r\n          </li>\r\n          <li className=\"text__list-item\">\r\n            Дети получают невероятное удовольствие и мотивацию от того, что их творчество востребовано сверстниками и взрослыми.\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default TextContainer;\r\n","export default __webpack_public_path__ + \"static/media/offer.623a8e66.pdf\";","import { useState, useCallback } from 'react';\r\n\r\nfunction useFormWithValidation(setCustomValidity) {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        text: '',\r\n        offer: false\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n    function handleChange(evt) {\r\n        const target = evt.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n        const isCheckbox = target.type === 'checkbox';\r\n\r\n        setCustomValidity(target);\r\n\r\n        setValues({\r\n            ...values,\r\n            [name]: isCheckbox ? target.checked : value\r\n        });\r\n\r\n        setErrors({\r\n            ...errors,\r\n            [name]: target.validationMessage\r\n        });\r\n\r\n\r\n        setIsFormValid(target.closest('form').checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {\r\n            name: '',\r\n            email: '',\r\n            tel: '',\r\n            text: '',\r\n            offer: false\r\n        }, \r\n        newErrors = {}, \r\n        newIsFormValid = false) => {\r\n          setValues(newValues);\r\n          setErrors(newErrors);\r\n          setIsFormValid(newIsFormValid);\r\n        },\r\n        [setValues, setErrors, setIsFormValid]\r\n      );\r\n\r\n\r\n    return { values, handleChange, errors, isFormValid, resetForm }\r\n}\r\n\r\nexport default useFormWithValidation;","//Кастомизация ошибок для валидации формы\r\nexport default function setCustomValidity (target) {\r\n        target.setCustomValidity('');\r\n\r\n        if (!target.validity.valid){\r\n             if (target.validity.valueMissing) {\r\n                target.setCustomValidity('Это поле обязательно');\r\n            } else if (target.name === 'name' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Имя и фамилия могут содержать только буквы')\r\n            }  else if (target.name === 'tel' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Номер телефона может содержать только цифры и символы \"+\", \"-\"')\r\n            } else if (target.validity.tooShort) {\r\n                target.setCustomValidity(`Введенное значение должно быть длинее ${target.minLength} символов`);\r\n            } else if (target.validity.tooLong) {\r\n                target.setCustomValidity(`Введенное значение должно быть короче ${target.maxLength} символов`)\r\n            } else if (target.name === 'email' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Пожалуйста, не забудьте \"@\" и домен')\r\n            }\r\n        } \r\n    }\r\n\r\n  ","class Api {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n    //На случай, если есть несколько GET запросов с разными данными\r\n    getData() {\r\n        return fetch(`${this._url}`, {\r\n            headers: this._headers,\r\n        });\r\n    }\r\n\r\n    //GET запрос на массив с треками\r\n    getTracksData() {\r\n        return this.getData()\r\n           .then(res => this._getResponseData(res));  \r\n    }\r\n\r\n    //POST запрос для отправки формы\r\n    submitForm(formData) {\r\n        return fetch(`${this._url}`, {\r\n            method: \"POST\",\r\n            headers:  this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                email: formData.email,\r\n                tel: formData.tel,\r\n                text: formData.text,\r\n                offer: formData.offer\r\n              })\r\n        }).then(res => this._getResponseData(res));\r\n       \r\n    }\r\n}\r\n\r\n//Сюда подставляется любой URL и заголовки для отправки данных формы. Отправка протестирована и стабильна.\r\nconst options = {\r\n    url: 'https://httpbin.org/post',\r\n    headers: {\r\n        //   authorization: ,\r\n          'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\nexport const api = new Api(options);\r\n\r\n\r\n// //Тестовый АПИ для получения плейлиста\r\n// const testTracks = {\r\n//     url: \"https://theaudiodb.p.rapidapi.com/track-top10.php?s=a-ha\", \r\n//     headers: {\r\n//             \"x-rapidapi-key\": \"180d4b6064mshe91e0635eaa070cp1dee42jsn9a8834b63295\",\r\n//             \"x-rapidapi-host\": \"theaudiodb.p.rapidapi.com\"\r\n//         }\r\n// }\r\n\r\n// export const testGetRequest = new Api(testTracks);\r\n\r\n//Получаем из API данные плейлиста. Сейчас это тестовый запрос на RapidApi, возвращает массив треков.\r\n//Данный запрос подставляется в компонент Player, получает массив треков и сетит его в стейт:\r\n// const [tracks, setTracks] = React.useEffect([]);\r\n\r\n//   React.useEffect(() => {\r\n//     testGetRequest.getTracksData()\r\n//        .then((tracksData) => {\r\n//          console.log(tracksData);\r\n//          setTracks(tracksData);\r\n//        })\r\n//        .catch((err) => {\r\n//           console.log(err);\r\n//        });\r\n//   }, []);\r\n\r\n//Далее данные из полученного массива передаются в плейлист.\r\n","import React from 'react';\r\nimport './Form.css';\r\nimport cn from 'classnames';\r\nimport pdfUrl from '../vendor/offer.pdf';\r\nimport useFormWithValidation from '../hooks/useFormWithValidation.js';\r\nimport setCustomValidity from '../utils/setCustomValidity.js';\r\nimport { api } from '../utils/Api.js';\r\n\r\n\r\n\r\nfunction Form() {\r\n\r\n    const { values, handleChange, errors, isFormValid, resetForm } = useFormWithValidation(setCustomValidity);\r\n    const [isSubmitted, setIsSubmitted] = React.useState(false);\r\n    const [isErrorVisible, setIsErrorVisible] = React.useState(false);\r\n\r\n    const inputNameStyle = cn('form__input', 'form__input_name', {'form__input_invalid': errors.name});\r\n    const inputTelStyle = cn('form__input', 'form__input_tel', {'form__input_invalid': errors.tel});\r\n    const inputEmailStyle = cn('form__input', 'form__input_email', {'form__input_invalid': errors.email});\r\n    const inputTextStyle = cn('form__textarea', 'form__input', {'form__input_invalid': errors.text});\r\n\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        console.log(values);\r\n\r\n        api.submitForm(values)\r\n           .then(() => {\r\n              setIsSubmitted(true);\r\n              setIsErrorVisible(false);\r\n              resetForm();\r\n\r\n              setTimeout(() => \r\n                setIsSubmitted(false),\r\n                5000);\r\n           })\r\n           .catch((err) => {\r\n               console.log(err);\r\n               setIsErrorVisible(true);\r\n           })\r\n    }\r\n\r\n    return(\r\n        <div className=\"form-container\">\r\n\r\n          <h2 className=\"form-container__heading\">Форма</h2>\r\n          <p className=\"form-container__text\">Заполняя эту форму, вы становитесь частью проекта.</p>\r\n\r\n        <form className=\"form\" name=\"send-poem\" onSubmit={handleSubmit} noValidate>\r\n\r\n                <input \r\n                  className={inputNameStyle}\r\n                  name=\"name\" \r\n                  placeholder=\"Имя и фамилия автора\" \r\n                  required \r\n                  minLength=\"2\" \r\n                  maxLength=\"50\" \r\n                  pattern=\"^[A-Za-zА-Яа-яёЁ\\s\\-]+$\"\r\n                  value={values.name || ''}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.name && <span className=\"form__input-error\">{errors.name}</span>}\r\n\r\n                <input \r\n                  className={inputTelStyle}\r\n                  type=\"tel\" \r\n                  name=\"tel\" \r\n                  placeholder=\"Телефон\" \r\n                  required\r\n                  minLength=\"10\"\r\n                  maxLength=\"20\"\r\n                  pattern=\"^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$\"\r\n                  value={values.tel || ''}\r\n                  onChange={handleChange}\r\n                />\r\n               {errors.tel && <span className=\"form__input-error\">{errors.tel}</span>}\r\n\r\n                <input \r\n                  className={inputEmailStyle}\r\n                  type=\"email\" \r\n                  name=\"email\" \r\n                  placeholder=\"Почта\" \r\n                  required \r\n                  minLength=\"6\" \r\n                  maxLength=\"50\" \r\n                  pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n                  value={values.email || ''}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.email && <span className=\"form__input-error\">{errors.email}</span>}\r\n\r\n\r\n                <textarea \r\n                  className={inputTextStyle}\r\n                  name=\"text\" \r\n                  minLength=\"20\" \r\n                  placeholder=\"Стихи\" \r\n                  required\r\n                  value={values.text || ''}\r\n                  onChange={handleChange}\r\n                >\r\n                </textarea>\r\n                {errors.text && <span className=\"form__input-error\">{errors.text}</span>}\r\n\r\n                <label htmlFor=\"offer\" className=\"form__input-label\">\r\n                  <input \r\n                    className=\"form__input_radio\" \r\n                    type=\"checkbox\" \r\n                    name=\"offer\" \r\n                    value=\"agree\" \r\n                    id=\"offer\"\r\n                    required \r\n                    checked={values.offer}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <span className=\"form__pseudo-item\"></span>\r\n        \r\n                  <span className=\"form__label-text\">Согласен с <a className=\"form__offer-link\" target=\"_blank\" href={pdfUrl} rel=\"noreferrer\">офертой</a></span>\r\n                </label>\r\n                {errors.offer && <span className=\"form__input-error\">{errors.offer}</span>}\r\n\r\n\r\n                <button type=\"submit\" className=\"form__submit-button\" disabled={!isFormValid}><span className=\"form__button-text\">{isSubmitted? 'Ура, форма отправлена!' : 'Отправить форму'}</span></button>\r\n                {isErrorVisible && <span className=\"form__wrong-submit\">Упс, что-то пошло не так и форма не отправилась, попробуйте ещё раз!</span>}\r\n                {!isFormValid && <span className=\"form__fill-hint\">Чтобы отправить форму, пожалуйста, заполните все поля</span>}\r\n                \r\n            </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import './Info.css';\r\nimport TextContainer from './TextContainer.js';\r\nimport Form from './Form.js';\r\n\r\nfunction Info () {\r\n  return (\r\n    <section className=\"info-container\">\r\n\r\n      <TextContainer />\r\n\r\n      <Form />\r\n  \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Info;\r\n","import './Footer.css';\r\nimport { yandexPraktikumLink } from '../configs/links';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__item\">&copy; Маршак, 2020.</p>\r\n      <p className=\"footer__item\">\r\n        Сделано студентами&#8196;\r\n        <a\r\n          className=\"footer__link\"\r\n          href={yandexPraktikumLink}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          Яндекс.Практикум\r\n        </a>\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import './Background.css';\r\nimport { animated, Transition } from 'react-spring';\r\n\r\nfunction Background({ isPlayerExtend, isMobile, currentTrack }) {\r\n\r\n  return (\r\n    <div>\r\n    <Transition\r\n      items={currentTrack}\r\n      from={{ opacity: 0 }}\r\n      enter={{ opacity: 1 }}\r\n      leave={{ opacity: 0 }}\r\n      initial={{ opacity: 1 }}\r\n      config={{ mass: 1, tension: 280, friction: 120 }}\r\n      keys={() => currentTrack}\r\n    > \r\n      {(values, item) => (\r\n        <animated.div\r\n          className=\"background\"\r\n          style={{ backgroundImage: `${item.theme.backgroundImage}`, ...values}}\r\n        ></animated.div>\r\n      )}\r\n    </Transition>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Background;\r\n","import cn from 'classnames';\r\nimport './Blur.css';\r\n\r\nfunction Blur({ isPlayerExtend, isMobile, isLandscape }) {\r\n  const blurLayerStyle = cn('blur__layer', { 'blur__layer_active': isPlayerExtend && (isMobile || isLandscape) })\r\n\r\n  return (\r\n    <div className={blurLayerStyle}></div>\r\n  )\r\n}\r\n\r\nexport default Blur;\r\n","export default __webpack_public_path__ + \"static/media/background-blur.c25e08a2.jpg\";","import './App.css';\r\nimport { useState } from 'react';\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport Main from './Main';\r\nimport Info from './Info';\r\nimport Footer from './Footer';\r\nimport Background from './Background';\r\nimport Blur from './Blur';\r\nimport backgroundBlur from '../images/background-blur.jpg';\r\nimport tracks from '../db/tracks';\r\n\r\nfunction App() {\r\n  const [isPlayerExtend, setPlayerState] = useState(false);\r\n  const isMobile = useMediaQuery({ query: '(max-width: 480px)' });\r\n  const isLandscape = useMediaQuery({ query: '(orientation:landscape) and (max-height: 600px)' });\r\n  const onPlayerExtend = () => {\r\n    setPlayerState(!isPlayerExtend);\r\n  }\r\n  const [currentTrack, setCurrentTrack] = useState(tracks[0]);\r\n\r\n  function onSetCurrentTrack(track) {\r\n    setCurrentTrack(track);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__container\">\r\n        <Main\r\n          onPlayerExtend={onPlayerExtend}\r\n          isPlayerExtend={isPlayerExtend}\r\n          isLandscape={isLandscape}\r\n          isMobile={isMobile}\r\n          onSetCurrentTrack={onSetCurrentTrack}\r\n          currentTrack={currentTrack}\r\n        />\r\n        <Info />\r\n        <Footer\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n        />\r\n        <Background\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n          backgroundBlur={backgroundBlur}\r\n          currentTrack={currentTrack}\r\n        />\r\n        <Blur\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n          isLandscape={isLandscape}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}